# Data transformation

## Data Merging
Two datasets are provided regarding two distinct subjects: Mathematics (mat) and Portuguese language (por). \
To combine these two datasets, we spcified the following columns to be used for merging because these columns are basic information of students: \
```{r, echo = FALSE}
Description = readr::read_csv(here::here("./data/Description.csv"))
knitr::kable(Description[c(1:12,20,22), ],
             row.names = F,font_size = 12)
```

## Data Cleaning and Feature Engineeing
After inspecting each variables carefully, we detected that there were outliers in `Age` and abnormal values in Math and Portuguese grades. \
```{r,echo=FALSE}
mat=read.table("./data/student-mat.csv",sep=";",header=TRUE)
por=read.table("./data/student-por.csv",sep=";",header=TRUE)
df=merge(mat,por,by=c("school","sex","age","address","famsize","Pstatus","Medu","Fedu","Mjob","Fjob","reason","nursery","internet","guardian"))
colnames(df)[colnames(df) == 'G1.x'] = 'Math_G1'
colnames(df)[colnames(df) == 'G2.x'] = 'Math_G2'
colnames(df)[colnames(df) == 'G3.x'] = 'Math_G3'
colnames(df)[colnames(df) == 'G1.y'] = 'Portuguese_G1'
colnames(df)[colnames(df) == 'G2.y'] = 'Portuguese_G2'
colnames(df)[colnames(df) == 'G3.y'] = 'Portuguese_G3'
boxplot(df$age,xlab = 'Age',horizontal = TRUE)
```


We created two new variables to represent overall performance on Math and Portuguese for a student as: \
$Math\_Grade = \frac{1}{3}Math\_G1 + \frac{1}{3}Math\_G2 + \frac{1}{3}Math\_G3$ \
$Por\_Grade = \frac{1}{3}Por\_G1 + \frac{1}{3}Por\_G2 + \frac{1}{3}Por\_G3$ \
